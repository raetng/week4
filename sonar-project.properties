# ============================================
# SonarQube Configuration
# Weather Reports Application
# ============================================

# Project identification
sonar.projectKey=week4
sonar.projectName=week4
sonar.projectVersion=1.0.0

# Source code location
sonar.sources=.
sonar.sourceEncoding=UTF-8

# Exclude from analysis
sonar.exclusions=\
    node_modules/**,\
    coverage/**,\
    dist/**,\
    tests/**,\
    **/*.test.js,\
    **/*.spec.js,\
    playwright-report/**,\
    .idea/**,\
    *.md

# Test configuration
sonar.tests=tests
sonar.test.inclusions=**/*.test.js,**/*.spec.js

# JavaScript/Node.js specific
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.file.suffixes=.js,.jsx

# Coverage thresholds (Quality Gate conditions)
# These are set in SonarQube UI but documented here for reference
# - Coverage on New Code: >= 80%
# - Duplicated Lines on New Code: <= 3%
# - Maintainability Rating on New Code: A
# - Reliability Rating on New Code: A
# - Security Rating on New Code: A

# ============================================
# Quality Gate Configuration (set in SonarQube UI)
# ============================================
# Name: Weather App Quality Gate
#
# Conditions (fail pipeline if not met):
# 1. Coverage on New Code < 70%
# 2. Duplicated Lines on New Code > 5%
# 3. Maintainability Rating worse than A
# 4. Reliability Rating worse than A
# 5. Security Rating worse than A
# 6. Security Hotspots Reviewed < 100%
#
# ============================================

# Issue tracking
sonar.issue.ignore.multicriteria=e1,e2

# Ignore console.log in app.js (startup message)
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S2228
sonar.issue.ignore.multicriteria.e1.resourceKey=app.js

# Ignore cognitive complexity for complex query builder
sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/routes/*.js

# Analysis parameters
sonar.scm.provider=git
sonar.links.homepage=https://github.com/your-org/weather-reports-app
sonar.links.ci=http://jenkins-url/job/weather-reports-app
sonar.links.scm=https://github.com/your-org/weather-reports-app